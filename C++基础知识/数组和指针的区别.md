# 指针和数组的区别

指针和数组的主要区别如下：

| 指针                                                         | 数组                                 |
| ------------------------------------------------------------ | ------------------------------------ |
| 保存数据的地址                                               | 保存数据                             |
| 间接访问数据，首先获得指针的内容，然后将其作为地址，从该地址中提取数据 | 直接访问数据，                       |
| 通常用于动态的数据结构                                       | 通常用于固定数目且数据类型相同的元素 |
| 通过Malloc分配内存，free释放内存                             | 隐式的分配和删除                     |
| 通常指向匿名数据，操作匿名函数                               | 自身即为数据名                       |

### 野指针

**野指针**就是指向一个已删除的对象或者未申请访问受限内存区域的指针

野指针就是指向一个已删除的对象或者是定义的时候未初始化的指针

##### 成因

**指针变量未初始化**

任何指针变量刚被创建时不会自动成为NULL指针，它的缺省值是随机的，它会乱指一气。所以，指针变量在创建的同时应当被初始化，要么将指针设置为NULL，要么让它指向合法的内存。如果没有初始化，编译器会报错“ ‘point’ may be uninitializedin the function ”。

**指针释放后之后未置空**

有时指针在free或delete后未赋值 NULL，便会使人以为是合法的。别看free和delete的名字（尤其是delete），它们只是把指针所指的内存给释放掉，但并没有把指针本身干掉。此时指针指向的就是“垃圾”内存。释放后的指针应立即将指针置为NULL，防止产生“野指针”。

**指针操作超越变量作用域**

不要返回指向栈内存的指针或引用，因为栈内存在函数结束时会被释放。

##### 规避

**初始化时置 NULL**

**释放时置 NULL**

通常判断一个指针是否合法，都是使用if语句测试该指针是否为NULL。